<html
  xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
  xmlns:fo="http://typo3.org/ns/Ps14/Foundation/ViewHelpers"
  xmlns:co="http://typo3.org/ns/Ps14/Component/ViewHelpers"
  data-namespace-typo3-fluid="true">
    <f:comment>
    <!--
        Dokumentation: Fluid-Komponente <co:media.container>

        Namespace:
        xmlns:co="http://typo3.org/ns/Ps14/Component/ViewHelpers"

        Argumente für <co:media.container>:
        - media: (object, erforderlich) Bild-Objekt (FileReference, File)
        - variant: (string, optional) z.B. "default", "primary" – erweitert die CSS-Klasse
        - class: (string, optional) Zusätzliche CSS-Klassen für das Container-Element
        - ratio: (string, optional) Seitenverhältnis, z.B. "16-9", "1-1"
        - priority: (boolean, optional, Standard: false) Bild wird als LCP priorisiert geladen
        - containerWidth: (int, optional, Standard: 810) Maximale Breite für das Bild
        - sizes: (array, optional) Responsive Breakpoints für das Bild
        - description: (boolean, optional, Standard: true) Bildbeschreibung anzeigen
        - copyright: (boolean, optional, Standard: true) Copyright/Quelle anzeigen

        Funktion:
        Gibt ein Bild mit responsivem Verhalten, optionaler Beschreibung und Copyright aus. Das Seitenverhältnis kann
        über ratio gesteuert werden. Die Komponente nutzt <fo:media.responsive> für die Bildausgabe.

        Beispielhafte Aufrufe:
        <co:media.container media="{image}" />
        <co:media.container media="{image}" ratio="16-9" />
        <co:media.container media="{image}" variant="primary" class="my-media" />
        <co:media.container media="{image}" description="false" copyright="false" />
        <co:media.container media="{image}" priority="true" containerWidth="1200" sizes="{0: 360, 1: 480, 2: 640}" />
    -->
    </f:comment>

    <f:argument name="media" type="object" />
    <f:argument name="variant" type="string" optional="{true}" />
    <f:argument name="class" type="string" optional="{true}" />
    <f:argument name="ratio" type="string" optional="{true}" />
    <f:argument name="priority" type="boolean" optional="{true}" default="{false}" />
    <f:argument name="containerWidth" type="int" optional="{true}" default="810" />
    <f:argument name="sizes" type="array" optional="{true}" />
    <f:argument name="description" type="boolean" optional="{true}" default="{true}" />
    <f:argument name="copyright" type="boolean" optional="{true}" default="{true}" />

    <co:cssClass value="media-container media-container--picture" />
    <co:cssClass value="media-container--ratio media-container--ratio-{ratio}" condition="{ratio}" />
    <co:cssClass value="media-container--{variant}" condition="{variant}" />

    <f:if condition="{media}">
      <div class="{class}">
        <div class="media-container__ratio"><fo:media.responsive image="{media}" class="media-container__source" containerWidth="{containerWidth}" priority="{priority}" sizes="{sizes}" /></div>

        <f:if condition="{media.description} && {description}">
          <div class="media-description media-container__description">{media.description -> f:format.nl2br()}</div>
        </f:if>

        <f:if condition="{copyright} && ({media.properties.copyright} || {media.properties.source})">
          <div class="media-copyright media-container__copyright">
            <f:if condition="{media.properties.copyright}"><span class="media-copyright__value"><f:translate key="LLL:EXT:ps14_component/Resources/Private/Language/locallang_frontend.xlf:media.copyright" /> {media.properties.copyright}</span></f:if>
            <f:if condition="{media.properties.source}"><span class="media-copyright__value"><f:translate key="LLL:EXT:ps14_component/Resources/Private/Language/locallang_frontend.xlf:media.source" /> {media.properties.source}</span></f:if>
          </div>
        </f:if>
      </div>
    </f:if>
</html>